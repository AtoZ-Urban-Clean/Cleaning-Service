<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* === MOBILE MODAL BASE === */
        #mobile-menu-modal {
            position: fixed;
            inset: 0;
            z-index: 9999;
            visibility: hidden; /* Use visibility for smoother transitions */
            transition: visibility 0.3s;
        }

        #mobile-menu-modal.active { visibility: visible; }

        .c-modal__scrim {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        #mobile-menu-modal.active .c-modal__scrim { opacity: 1; }

        .c-modal__dialog {
            position: absolute;
            top: 0;
            left: 0;
            width: 85%;
            max-width: 320px;
            height: 100%;
            background: #fff;
            transform: translateX(-100%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            box-shadow: 5px 0 15px rgba(0,0,0,0.1);
        }

        #mobile-menu-modal.active .c-modal__dialog { transform: translateX(0); }

        /* === MENU CONTENT === */
        .c-modal__content { height: 100%; overflow: hidden; position: relative; }
        
        .close-button {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            color: #333;
            z-index: 10;
        }

        .menu-container {
            padding: 60px 0 20px;
            height: 100%;
            position: relative;
        }

        .ada-menu { list-style: none; padding: 0; margin: 0; }
        .ada-menu li { border-bottom: 1px solid #eee; }

        .ada-menu a, .ada-menu button {
            width: 100%;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-decoration: none;
            color: #333;
            font-size: 15px;
            font-weight: 500;
            background: none;
            border: none;
            text-align: left;
            cursor: pointer;
        }

        /* === MULTI-LEVEL LOGIC === */
        .menu-level-0 { transition: transform 0.3s ease; }
        .menu-level-1 {
            position: absolute;
            top: 60px;
            left: 0;
            width: 100%;
            height: calc(100% - 60px);
            background: #fff;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            visibility: hidden;
        }

        .menu-level-1.active { transform: translateX(0); visibility: visible; }
        .menu-level-0.shifted { transform: translateX(-100%); }

        .back-button { background: #f8f9fa !important; font-weight: 700 !important; color: #0066ff !important; }
        
        /* === MOBILE HEADER ONE LINE === */
        .site-header { background: #fff; border-bottom: 1px solid #eee; position: sticky; top: 0; z-index: 1000; padding: 10px 15px; }
        .header-main-row { display: flex; align-items: center; gap: 10px; }
        .search-box { flex-grow: 1; }
        .search-box input { width: 100%; padding: 8px 12px; border-radius: 20px; border: 1px solid #ddd; outline: none; font-size: 14px; }
        .menu-toggle { background: none; border: none; font-size: 20px; cursor: pointer; }
        .bag-btn { background: #ff007f; color: #fff; padding: 7px 12px; border-radius: 5px; text-decoration: none; font-size: 12px; font-weight: bold; white-space: nowrap; }

        .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }
    </style>
</head>
<body>

<header class="site-header">
    <div class="header-main-row">
        <button class="menu-toggle" onclick="toggleMenu(true)"><i class="fas fa-bars"></i></button>
        <div class="logo"><a href="#" style="text-decoration:none; color:#0066ff; font-weight:bold;">AtoZ</a></div>
        <div class="search-box"><input type="text" placeholder="Search..."></div>
        <a href="#" class="bag-btn">BAG (0)</a>
    </div>
</header>

<div id="mobile-menu-modal" class="c-modal c-modal--menu">
    <div class="c-modal__scrim" onclick="toggleMenu(false)"></div>
    
    <div class="c-modal__dialog">
        <div class="c-modal__content">
            <h2 id="mobile-menu-title" class="sr-only">Mobile menu</h2>
            <button class="close-button" onclick="toggleMenu(false)">
                <i class="fas fa-times"></i>
            </button>

            <div class="menu-container">
                <div class="menu-level-0" id="lvl-0">
                    <ul class="ada-menu">
                        <li><a href="index.html">Home</a></li>
                        <li>
                            <button onclick="openSub('services-menu')">
                                Services <i class="fas fa-chevron-right"></i>
                            </button>
                        </li>
                        <li>
                            <button onclick="openSub('cleaning-menu')">
                                Cleaning Types <i class="fas fa-chevron-right"></i>
                            </button>
                        </li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>

                <div class="menu-level-1" id="services-menu">
                    <ul class="ada-menu">
                        <li><button class="back-button" onclick="closeSub()"><i class="fas fa-chevron-left"></i> Back</button></li>
                        <li><a href="#"><strong>All Services</strong></a></li>
                        <li><a href="#">Residential</a></li>
                        <li><a href="#">Commercial</a></li>
                    </ul>
                </div>

                <div class="menu-level-1" id="cleaning-menu">
                    <ul class="ada-menu">
                        <li><button class="back-button" onclick="closeSub()"><i class="fas fa-chevron-left"></i> Back</button></li>
                        <li><a href="#">Deep Cleaning</a></li>
                        <li><a href="#">Standard Cleaning</a></li>
                        <li><a href="#">Move-in/out</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function toggleMenu(isOpen) {
        const modal = document.getElementById('mobile-menu-modal');
        if (isOpen) {
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        } else {
            modal.classList.remove('active');
            document.body.style.overflow = '';
            closeSub(); // Reset submenus when closing
        }
    }

    function openSub(menuId) {
        document.getElementById('lvl-0').classList.add('shifted');
        document.getElementById(menuId).classList.add('active');
    }

    function closeSub() {
        document.getElementById('lvl-0').classList.remove('shifted');
        const subMenus = document.querySelectorAll('.menu-level-1');
        subMenus.forEach(m => m.classList.remove('active'));
    }
</script>

</body>
</html>
