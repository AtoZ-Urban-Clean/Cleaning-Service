<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
</head>

<body>
<h2>Admin Panel</h2>

<input id="bid" placeholder="Booking ID"><br><br>
<input id="lname" placeholder="Labor Name"><br><br>
<input id="lmobile" placeholder="Labor Mobile"><br><br>

<button onclick="assign()">Assign Labor</button>
<button onclick="complete()">Mark Completed</button>

<p id="msg"></p>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbyeDfddVwM7_d2HyzD9Ftsw99B_VpSPdMS-P2QNeQUyV3sbEji2nMaCaj2CusFuSGyD5Q/exec";

function assign(){
  fetch(API_URL,{
    method:"POST",
    body:JSON.stringify({
      action:"assign",
      bookingId:bid.value,
      laborName:lname.value,
      laborMobile:lmobile.value
    })
  }).then(r=>r.json()).then(d=>{
    msg.innerText=d.message;
  });
}

function complete(){
  fetch(API_URL,{
    method:"POST",
    body:JSON.stringify({
      action:"complete",
      bookingId:bid.value
    })
  }).then(r=>r.json()).then(d=>{
    msg.innerText=d.message;
  });
}
</script>
</body>
</html>
